<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	
	
	
	<!--  ====================  VFE  ============================  -->
	
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Furniture Expanded</li>
    </mods>
	<success>Always</success>
	<match Class="PatchOperationSequence">
	  <operations>
		<li Class="PatchOperationAdd">
		  <xpath>Defs/ThingDef[defName = "VBY_Haybed" or defName = "VBY_Leatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>Table_RoyalDresser</li>
				<li>Table_RoyalEndTable</li>
				<li>Table_Wardrobe</li>
				<li>Table_LightEndTable</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName = "VBY_PrimitiveResearchTable" or defName = "VBY_PrimitiveResearchSpot"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>Misc_FileCabinet</li>
			</value>
		</li>
	  </operations>
	</match>	
	</Operation>

	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Furniture Expanded - Spacer Module</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName = "VBY_Haybed" or defName = "VBY_Leatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
		<value>
			<li>Table_IlluminatedEndTable</li>
			<li>Table_IlluminatedDresser</li>
		</value>
	</match>	
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Furniture Expanded - Production</li>
    </mods>
	<success>Always</success>
	<match Class="PatchOperationSequence">
	  <operations>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveBrewery_HerbalistBench"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>VFE_DrugCabinet</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveTailoringTable"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>VFE_TailorCabinet</li>
			</value>
		</li>
	  </operations>
	</match>	
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Furniture Expanded - Medical Module</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName = "VBY_PrimitiveResearchTable" or defName = "VBY_PrimitiveResearchSpot"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
		<value>	
			<li>Facility_ResearchCounter</li>
		</value>
	</match>	
	</Operation>
	
	
	<!--  ====================  More Furniture  ============================  -->
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>More Furniture [1.1 + 1.2]</li>
    </mods>
	<success>Always</success>
	<match Class="PatchOperationSequence">
	  <operations>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_Haybed" or defName = "VBY_Leatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>Anon2Dresser</li>
				<li>Anon2EndTable</li>
				<li>Anon2RoyalEndTable</li>
				<li>Anon2EndTableLight</li>
				<li>Anon2RoyalEndTableLight</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveResearchTable" or defName = "VBY_PrimitiveResearchSpot"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>Anon2FileCabinet</li>
			</value>
		</li>	
	  </operations>
	</match>	
	</Operation>
	
	<!--  ====================  Gloomy  ============================  -->
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>GloomyFurniture</li>
    </mods>
	<success>Always</success>
	<match Class="PatchOperationSequence">
	  <operations>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_Haybed" or defName = "VBY_Leatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>RGK_Dresser</li>
				<li>RGK_EndTable</li>
				<li>RGK_EndTableWithLamp</li>
				<li>RGK_EndTableWithLampE</li>
				<li>WardrobeA</li>
				<li>WardrobeB</li>
				<li>GL_Teddy</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveResearchTable" or defName = "VBY_PrimitiveResearchSpot"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>GL_Bookshelf</li>
			</value>
		</li>
	  </operations>
	</match>	
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Gloomy Extra - Kitchen</li>
    </mods>
	<success>Always</success>
		<match Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveButcherTable"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>SM_Sink</li>
				<li>SM_ButcherShelf</li>
				<li>SM_KitchenCupboard_A</li>
				<li>SM_KitchenCupboard_B</li>
				<li>SM_KitchenCupboard_C</li>
			</value>
		</match>
	</Operation>
	
	
	
	<!--  ====================  UN Furniture  ============================  -->
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>UN-Furniture (Continued)</li>
    </mods>
	<success>Always</success>
	<match Class="PatchOperationSequence">
	  <operations>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_Haybed" or defName = "VBY_Leatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
			  <li>SadjuukFurnitureAA</li>
			  <li>SadjuukFurnitureBA</li>
			  <li>SadjuukFurnitureAB</li>
			  <li>SadjuukFurnitureBB</li>
			  <li>SadjuukFurnitureAC</li>
			  <li>SadjuukFurnitureBC</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveResearchTable" or defName = "VBY_PrimitiveResearchSpot"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
			  <li>SadjuukResearchBA</li>
			  <li>SadjuukResearchBB</li>
			  <li>SadjuukResearchBC</li>
			  <li>SadjuukResearchBD</li>
			</value>
		</li>
	  </operations>
	</match>	
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>UN-Colony [1.2]</li>
    </mods>
	<success>Always</success>
	<match Class="PatchOperationSequence">
	  <operations>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_Haybed" or defName = "VBY_Leatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>SadjuukBedroomUpgradeAA</li>
				<li>SadjuukBedroomUpgradeAB</li>
				<li>SadjuukBedroomUpgradeAF</li>
				<li>SadjuukBedroomUpgradeAC</li>
				<li>SadjuukBedroomUpgradeBA</li>
				<li>SadjuukBedroomUpgradeBB</li>
				<li>SadjuukBedroomUpgradeBF</li>
				<li>SadjuukBedroomUpgradeBC</li>
				<li>SadjuukBedroomUpgradeCA</li>
				<li>SadjuukBedroomUpgradeCB</li>
				<li>SadjuukBedroomUpgradeCF</li>
				<li>SadjuukBedroomUpgradeCC</li>
				<li>SadjuukBedroomUpgradeCD</li>						  
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveResearchTable" or defName = "VBY_PrimitiveResearchSpot"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
			  <li>SadjuukResearchUpgradeAA</li>
				<li>SadjuukResearchUpgradeBA</li>
				<li>SadjuukResearchUpgradeBB</li>
				<li>SadjuukResearchUpgradeBC</li>
				<li>SadjuukResearchUpgradeCB</li>
			</value>
		</li>
	  </operations>
	</match>	
	</Operation>
	
		
	<!--  ====================  ZP Rice  ============================  -->
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>【ZP】Rice cultivating civilization【1.1】</li>
    </mods>
	<success>Always</success>
	<match Class="PatchOperationSequence">
	  <operations>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveCraftingTable" or defName = "VBY_PrimitiveButcherTable" or defName = "VBY_PrimitiveKiln" or defName = "VBY_PrimitiveTailoringTable" or defName = "VBY_PrimitiveStoneCuttingTable" or defName = "VBY_PrimitiveStoneCuttingSpot" or defName = "VBY_PrimitiveBrewery_HerbalistBench" or defName = "VBY_PrimitiveMeleeWeaponTable" or defName = "VBY_PrimitiveRangedWeaponTable" or defName = "VBY_PrimitiveResearchTableBase" or defName = "VBY_PrimitiveResearchSpot" or defName = "VBY_PrimitiveKiln_Rotated"]/comps/linkableFacilities</xpath>
			<value>
				<li>ZP_ConfectionerySaucer</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveButcherTable"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
				<li>CookingTable</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_Haybed" or defName = "VBY_Leatherbed" or defName = "VBY_DoubleHaybed" or defName = "VBY_DoubleLeatherbed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<value>
			  <li>ZP_Andon</li>
			  <li>ZP_ElectricAndon</li>
			  <li>ZP_ConfectionerySaucer</li>
			  <li>ZP_MedicineBox</li>
			</value>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "VBY_PrimitiveKiln" or defName = "VBY_PrimitiveKiln_Rotated"]/comps/li[@Class = "CompProperties_Refuelable"]/fuelFilter/thingDefs</xpath>
			<value>
			  <li>RPC_Firewood</li>
			  <li>Momigalite</li>
			  <li>RPC_Charcoal</li>
			</value>
		</li>	
	  </operations>
	</match>	
	</Operation>
	
	
	<!--  ====================  ZARS  ============================  -->
	
	
	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
    </mods>
    <match Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName = "VBY_PrimitiveCraftingTable" or defName = "VBY_PrimitiveKiln" or defName = "VBY_PrimitiveKiln_Rotated"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
		<value>
			<li>CraftingBasket</li>
		</value>
	</match>
	
	</Operation>
	
		
</Patch>	