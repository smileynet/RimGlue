<?xml version="1.0" encoding="utf-8" ?>

<Patch>

   <!--  ======================  Vanilla  =======================  -->  

  <!--
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "SimpleResearchBench"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
  </Operation>
  
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "TableSculpting"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
  </Operation>
  
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "TableButcher"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
  </Operation>
  
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "FueledStove"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
  </Operation>
  -->
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "TableStonecutter"]/researchPrerequisites</xpath>
            <value>
					<li>VBY_PrimitiveProductionAdvanced</li>
            </value>    
  </Operation>

  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "FermentingBarrel"]/researchPrerequisites</xpath>
            <value>
				<li>VBY_PrimitiveProduction</li>
            </value>    
  </Operation>

  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "Brewery"]/researchPrerequisites</xpath>
            <value>
				<li>VBY_PrimitiveProductionAdvanced</li>
            </value>    
  </Operation>
  <!--
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[defName = "HandTailoringBench"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
  </Operation>
   
  
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ResearchProjectDef[defName = "ComplexClothing"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProduction</li>
				</prerequisites>
            </value>    
  </Operation>
  
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ResearchProjectDef[defName = "ComplexFurniture"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProduction</li>
				</prerequisites>
            </value>    
  </Operation>
  -->
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Thinking Spot</li>
		<li>Early Times</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "CarpetMaking"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>    
    </nomatch>
  </Operation> 

 <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Thinking Spot</li>
		<li>Early Times</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "Smithing"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>    
    </nomatch>
  </Operation>

 <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Thinking Spot</li>
		<li>Early Times</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "DrugProduction"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>    
    </nomatch>
	<match Class="PatchOperationReplace">
        <xpath>Defs/ResearchProjectDef[defName = "DrugProduction"]/prerequisites</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>    
    </match>
  </Operation>
  
  <Operation Class="PatchOperationRemove">
  <success>Always</success>
        <xpath>Defs/ResearchProjectDef[defName = "RecurveBow"]/tags</xpath>
  </Operation>
  
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[@Name = "BaseMeleeWeapon"]/recipeMaker</xpath>
            <value>
				<researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
            </value>    
  </Operation>
  
  <Operation Class="PatchOperationAdd">
  <success>Always</success>
        <xpath>Defs/ThingDef[@Name = "BaseWeaponNeolithic"]/recipeMaker</xpath>
            <value>
				<researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
            </value>    
  </Operation>
  
  <!--  ==========================  Medieval Times  =====================  -->
  
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Times Unofficial Update</li>
		<li>Medieval Times Unofficial Update No Nan and legendary</li>
        <li>Thinking Spot</li>
		<li>Early Times</li>
		<li>Medieval Overhaul</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "Electricity"]</xpath>
        <value>
            <prerequisites>
				<li>VBY_PrimitiveProductionAdvanced</li>
			</prerequisites>
        </value>
    </nomatch>
  </Operation>
  
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Times Unofficial Update</li>
		  <li>Medieval Times Unofficial Update No Nan and legendary</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "MedTimes_MedievalTechnologies"]</xpath>
        <value>
            <prerequisites>
				<li>VBY_PrimitiveProductionAdvanced</li>
			</prerequisites>
        </value>
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Times Unofficial Update</li>
		  <li>Medieval Times Unofficial Update No Nan and legendary</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
		   <li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Makeable_Melee_T0"]/recipeMaker</xpath>
			  <value>
					<researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
			  </value>
			</li>
           <li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Apparel_Tier1"]</xpath>
			  <value>
			    <recipeMaker>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
				</recipeMaker>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_ApparelTabard"]</xpath>
			  <value>
			    <recipeMaker>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
				</recipeMaker>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_ApparelJacket"]</xpath>
			  <value>
			    <recipeMaker>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
				</recipeMaker>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Tail_Apparel_Tier1"]/recipeMaker</xpath>
			  <value>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Tail_ApparelTabard"]/recipeMaker</xpath>
			  <value>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Tail_ApparelJacket"]/recipeMaker</xpath>
			  <value>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Footgear_Tier1"]</xpath>
			  <value>
			    <recipeMaker>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
				</recipeMaker>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Handgear_Tier1"]</xpath>
			  <value>
			    <recipeMaker>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
				</recipeMaker>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Footgear_Socks"]/recipeMaker</xpath>
			  <value>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
			  </value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[@Name = "MedTimes_Tail_Headgear_Colors"]/recipeMaker</xpath>
			  <value>
					<researchPrerequisite>ComplexClothing</researchPrerequisite>
			  </value>
			</li>
		</operations>	
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Times Unofficial Update</li>
		  <li>Medieval Times Unofficial Update No Nan and legendary</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[@Name = "MedTimes_Melee"]/recipeMaker</xpath>
        <value>
		  <researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
        </value>
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Times Unofficial Update</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[@Name = "MedTimes_Ranged"]</xpath>
        <value>
            <recipeMaker>
				<researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
			</recipeMaker>
        </value>
    </match>
  </Operation>
  
   <!-- ==========================  Zars  =====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
        <li>Thinking Spot</li>
		<li>Early Times</li>
		<li>Medieval Overhaul</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "TableSculpting"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
        <li>Thinking Spot</li>
		<li>Early Times</li>
		<li>Medieval Overhaul</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "SimpleResearchBench"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>  
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
        <li>Thinking Spot</li>
		<li>Early Times</li>
		<li>Medieval Overhaul</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "TableButcher"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
        <li>Thinking Spot</li>
		<li>Early Times</li>
		<li>Medieval Overhaul</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "FueledStove"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>     
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
        <li>Thinking Spot</li>
		<li>Early Times</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "ComplexClothing"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>    
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "WorkBenches"]</xpath>
        <value>
            <prerequisites>
				<li>VBY_PrimitiveProduction</li>
			</prerequisites>
        </value>
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "TribalWarfare"]</xpath>
        <value>
            <prerequisites>
				<li>VBY_PrimitiveProduction</li>
			</prerequisites>
        </value>
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "TribalEssentials"]</xpath>
        <value>
            <prerequisites>
				<li>VBY_PrimitiveProduction</li>
			</prerequisites>
        </value>
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>ZARS Tribalism</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationRemove">
        <xpath>Defs/ResearchProjectDef[defName = "TribalEssentials"]/tags</xpath>
    </match>
  </Operation>
  
  <!-- =========================  VFE  ===========================  -->
    
   <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Furniture Expanded</li>
        <li>Thinking Spot</li>
		<li>Early Times</li>
    </mods>
	<success>Always</success>
    <nomatch Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "ComplexFurniture"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>    
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Furniture Expanded</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "MF_BasicFurniture"]</xpath>
        <value>
            <prerequisites>
				<li>VBY_PrimitiveProduction</li>
			</prerequisites>
        </value>
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Furniture Expanded - Art</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "VFE_Res_Pottery"]</xpath>
        <value>
            <prerequisites>
				<li>VBY_PrimitiveProduction</li>
			</prerequisites>
        </value>
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>GloomyFurniture</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "RGK_SimpleResearchBench"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>  
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>GloomyFurniture</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "GL_TableButcher"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>    
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>GloomyFurniture</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "RGK_FueledStove"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>     
    </match>
  </Operation>
  
  <!-- ============================  UN-Furniture  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>UN-Furniture (Continued)</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "SadjuukResearchAB"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>  
    </match>
  </Operation>
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>UN-Colony [1.2]</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "SadjuukResearchBA"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</researchPrerequisites>
            </value>  
    </match>
  </Operation>
  
  <!-- ============================  Argon Tribal Meds  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Arg√≥n's Tribal Medicine</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName = "TM_TribalMedicalHerbs"]</xpath>
            <value>
                <researchPrerequisites>
					<li>VBY_PrimitiveProduction</li>
				</researchPrerequisites>
            </value>  
    </match>
  </Operation>
  
  <!-- ============================  Medieval Madness  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Madness: Tools of the Trade</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "BasicTools"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
					<li>VBY_PrimitiveTools</li>
				</prerequisites>
            </value>  
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Madness: Tools of the Trade</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[@Name = "MM_RangedBase"]/recipeMaker</xpath>
            <value>
				<researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
            </value>    
    </match>
  </Operation>
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Madness: Tools of the Trade</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[@Name = "MM_MWeaponBase"]</xpath>
            <value>
			  <recipeMaker>
				<researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
              </recipeMaker>
			</value>    
    </match>
  </Operation> 
  
	
	
  
  <!-- ============================  Dragons Not Included  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>[O21] Dragons Not Included</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "O21_DNI_FlintlockGuns"]</xpath>
            <value>
                <prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>  
    </match>
  </Operation>
  
  <!-- ============================  Taki  ====================  -->
  
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Taki's Random Stuff</li>
        <li>Taki's Random Stuff (Continued)</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
           <li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "StoneWorkingStation"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>Stonecutting</li>
					</researchPrerequisites>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "StoneButhersBlock"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProduction</li>
					</researchPrerequisites>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "StoneResearchBlock"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProduction</li>
					</researchPrerequisites>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "PrimitiveSmelter"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProductionAdvanced</li>
					</researchPrerequisites>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "WoodenStoneWorkingStation"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProductionAdvanced</li>
					</researchPrerequisites>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "WoodenButhersTable"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProductionAdvanced</li>
					</researchPrerequisites>
				</value>
			</li>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "SmallWoodenResearchTable"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProductionAdvanced</li>
					</researchPrerequisites>
				</value>
			</li>
		</operations>	
    </match>
  </Operation>
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Taki's Random Stuff</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "UniversalFermenter"]</xpath>
			    <value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProductionAdvanced</li>
					</researchPrerequisites>
				</value>
			</li>
		</operations>	
    </match>
  </Operation>
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Taki's Random Stuff (Continued)</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName = "UniversalFermenter_Pot"]/researchPrerequisites</xpath>
			    <value>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</value>
			</li>
		</operations>	
    </match>
  </Operation>
  
  <!--  ============================== More Melee Weapons! ===================================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>More Melee Weapons!</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[@Name = "Gnm_MeleeWeaponBase"]/recipeMaker</xpath>
            <value>
				<researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
            </value>    
    </match>
  </Operation>
  
  <!--  ============================== Fertile Fields ===================================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Fertile Fields [1.1]</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationAdd">
        <xpath>Defs/ResearchProjectDef[defName = "RFF_Farming"]</xpath>
            <value>
				<prerequisites>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</prerequisites>
            </value>    
    </match>
  </Operation>
  
  <!-- ============================  VWE-Tribal  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vanilla Weapons Expanded - Tribal</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
           <li Class="PatchOperationAdd">
		   <xpath>Defs/ThingDef[defName = "VWE_MeleeWeapon_HeavyClub"]/recipeMaker</xpath>
            <value>
                <researchPrerequisite>VBY_PrimitiveTools</researchPrerequisite>
            </value> 
		   </li>
		   <li Class="PatchOperationReplace">
		   <xpath>Defs/ThingDef[defName = "VWE_MeleeWeapon_TribalAxe"]/recipeMaker/researchPrerequisite</xpath>
            <value>
				<researchPrerequisite Inherit="False">VBY_PrimitiveTools</researchPrerequisite>
            </value> 
		   </li>
		   <li Class="PatchOperationAdd">
		   <xpath>Defs/ThingDef[defName = "VWE_Weapon_FireBomb"]/recipeMaker</xpath>
            <value>
                <researchPrerequisite>VBY_PrimitiveProduction</researchPrerequisite>
            </value> 
		   </li>
		   <li Class="PatchOperationReplace">
		   <xpath>Defs/ThingDef[defName = "VWE_Weapon_FireBomb"]/recipeMaker/recipeUsers/li[text()="CraftingSpot"]</xpath>
            <value>
                <li>VBY_PrimitiveKiln</li>
				<li>VBY_PrimitiveKiln_Rotated</li>
            </value> 
		   </li>
		   <li Class="PatchOperationAdd">
		   <xpath>Defs/ThingDef[defName = "VWE_Weapon_FireBomb"]/costList</xpath>
            <value>
                <VBY_Haycloth>1</VBY_Haycloth>
				<VBY_ClayPaste>20</VBY_ClayPaste>
            </value> 
		   </li>
		</operations>   
    </match>
  </Operation>

	<!-- ============================  Tribal Warrior Set!  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Tribal Warrior Set!</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationReplace">					
		      <xpath>Defs/ResearchProjectDef[defName="Gunmar_WarBow"]/techLevel</xpath>
				<value>
					<techLevel>Neolithic</techLevel>
				</value>
			</li>		
		</operations>   
    </match>
  </Operation>

	<!-- ============================  Colony Manager  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Colony Manager</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ThingDef[defName="FM_BasicManagerStation"]</xpath>
				<value>
					<researchPrerequisites>
						<li>VBY_PrimitiveProductionAdvanced</li>
					</researchPrerequisites>
				</value> 
			</li>		
		</operations>   
    </match>
  </Operation>

	<!-- ============================  Primitive Storage  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Primitive Storage</li>
    </mods>
	<success>Always</success>
    <match Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ResearchProjectDef[defName="VBY_NeoStorage"]</xpath>
				<value>
					<prerequisites>
						<li>VBY_PrimitiveProduction</li>
					</prerequisites>
				</value> 
			</li>
			<li Class="PatchOperationReplace">					
		      <xpath>Defs/ThingDef[defName="VBY_StoragePitStone"]/researchPrerequisites/li[text()="ComplexFurniture"]</xpath>
				<value>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</value>
			</li>
			<li Class="PatchOperationReplace">					
		      <xpath>Defs/ThingDef[defName="VBY_Granary"]/researchPrerequisites/li[text()="ComplexFurniture"]</xpath>
				<value>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</value>
			</li>		
		</operations>   
    </match>
  </Operation>

	<!-- ============================  Medieval Overhaul  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Medieval Overhaul</li>
    </mods>
    <match Class="PatchOperationSequence">
	<success>Always</success>
		<operations>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ResearchProjectDef[defName="DankPyon_RusticFurniture" or defName="DankPyon_Presser" or defName="DankPyon_Tailoring"]</xpath>
				<value>
					<prerequisites>
						<li>VBY_PrimitiveProductionAdvanced</li>
					</prerequisites>
				</value> 
			</li>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ResearchProjectDef[defName="DankPyon_Grill" or defName="DankPyon_StewPot" or defName="DankPyon_Oven" or defName="DankPyon_Smoker"]/prerequisites</xpath>
				<value>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</value> 
			</li>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ResearchProjectDef[defName="DankPyon_CandleMaking"]</xpath>
				<value>
					<prerequisites>
						<li>VBY_PrimitiveProduction</li>
					</prerequisites>
				</value> 
			</li>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ResearchProjectDef[defName="DankPyon_FoodPreservation"]/prerequisites</xpath>
				<value>
					<li>VBY_PrimitiveProduction</li>
				</value> 
			</li>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ThingDef[defName="DankPyon_GardeningBox" or defName="DankPyon_TanningRack" or defName="DankPyon_RusticFermentingBarrel" or defName="DankPyon_HayRack"]/researchPrerequisites</xpath>
				<value>
					  <li>VBY_PrimitiveProduction</li>
				</value>
			</li>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ThingDef[defName="DankPyon_HayRack"]</xpath>
				<value>
					<researchPrerequisites>
					  <li>VBY_PrimitiveProduction</li>
					</researchPrerequisites>
				</value>
			</li>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ThingDef[defName="DankPyon_RusticCookingTable" or defName="DankPyon_Workbench" or defName="DankPyon_ButchersBlock"]</xpath>
				<value>
					<researchPrerequisites>
					  <li>VBY_PrimitiveProductionAdvanced</li>
					</researchPrerequisites>
				</value>
			</li>		
		</operations>   
    </match>
  </Operation>

	<!-- ============================  Rimcense: Neolithic Soothe  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>Rimcense: Neolithic Soothe</li>
    </mods>
    <match Class="PatchOperationSequence">
	<success>Always</success>
		<operations>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ThingDef[defName="VBY_IncenseTable"]/researchPrerequisites</xpath>
				<value>
					<li>VBY_PrimitiveProduction</li>
				</value> 
			</li>		
		</operations>   
    </match>
  </Operation>

	<!-- ============================  VGP Garden Fabrics  ====================  -->
  
  <Operation Class="PatchOperationFindMod">
    <mods>
        <li>VGP Garden Fabrics</li>
    </mods>
    <match Class="PatchOperationSequence">
	<success>Always</success>
		<operations>
			<li Class="PatchOperationAdd">					
		      <xpath>Defs/ThingDef[defName="TableLoom"]/researchPrerequisites</xpath>
				<value>
					<li>VBY_PrimitiveProductionAdvanced</li>
				</value> 
			</li>		
		</operations>   
    </match>
  </Operation>
	
	<!--  =========================  Apini Playable Race, Continued!  ======================================= -->
	
	<Operation Class="PatchOperationFindMod">
        <success>Always</success>
        <mods>
          <li>Apini Playable Race, Continued!</li>
        </mods>
        <match Class="PatchOperationSequence">			
            <operations>
                <li Class="PatchOperationAdd">					
		          <xpath>Defs/ThingDef[@Name = "ApiniBuildingBase"]/researchPrerequisites</xpath>
		            <value>
						<li>VBY_PrimitiveProduction</li>
		            </value>
				</li>
                <li Class="PatchOperationAdd">					
		          <xpath>Defs/ResearchProjectDef[@Name = "ApiniBionicsTech"]/prerequisites</xpath>
		            <value>
						<li>Electricity</li>
		            </value>
				</li>						
			</operations>
        </match>
	</Operation>
  
  
</Patch>  